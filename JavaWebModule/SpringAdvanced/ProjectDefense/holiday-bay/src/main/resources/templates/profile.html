<!DOCTYPE html>
<html lang="en">
<head th:replace="fragments/head::head"></head>


<body>

<div th:replace="fragments/navbar :: navbar">
    Navbar
</div>

<main class="p-5 align-content-center bg-blur my-register-div">
    <div class="container mt-5">
        <div class="row d-flex justify-content-center">
            <div class="col-md-7">
                <div class="profile-card card p-3 py-4" th:object="${user}">
                    <div class="text-center"><img src="/img/profile-placeholder-3.jpg" width="100" class="rounded-circle"></div>
                    <div class="text-center mt-3">
                        <span class="bg-secondary p-1 px-4 rounded text-white">Brave</span>
                        <h5 class="mt-4 mb-0">Full name</h5>
                        <span th:text="|*{firstName} *{lastName}|">UI/UX Designer</span>
                        <h5 class="mt-2 mb-0">Username</h5>
                        <span th:text="*{userName}">UI/UX Designer</span>
                        <h5 th:if="*{age} != null" class="mt-2 mb-0">Age</h5>
                        <span th:text="*{age}">33</span>
                        <div class="buttons">
                            <button onclick="history.back()" class="btn btn-outline-primary px-4">Back</button>
                            <!--                            <button class="btn btn-primary px-4 ms-3">Contact</button>-->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<div th:replace="fragments/footer">Footer</div>

<script>
    console.log("JS bonus!!");


    getUserData();

   async function getUserData() {
       let response = await fetch("http://localhost:9999/bonus/user");

       if (response.status === 404) {
           console.log("No bonus found!");
           return;
       }

       let userData = await response.json();
       console.log(userData);
       return userData;
   }
</script>
</body>
</html>