{"version":3,"sources":["profile.component.ts"],"names":["core_1","require","ProfileComponent","userService","router","this","inEditMode","prototype","ngOnInit","_this","getProfile$","subscribe","next","user","currentUser","console","log","error","navigate","enterEditMode","setTimeout","editProfileForm","form","patchValue","email","username","select-tel","tel","length","substring","updateProfile","value","__decorate","ViewChild","Component","selector","templateUrl","styleUrls","exports"],"mappings":"6YAAA,IAAAA,OAAAC,QAAA,iBAWAC,iBAAA,WAQE,SAAAA,EAAoBC,EAAkCC,GAAlCC,KAAAF,YAAAA,EAAkCE,KAAAD,OAAAA,EANtDC,KAAAC,YAAsB,EA0CxB,OAlCEJ,EAAAK,UAAAC,SAAA,WAAA,IAAAC,EAAAJ,KAEEA,KAAKF,YAAYO,cAAcC,UAAU,CACvCC,KAAM,SAAAC,GACJJ,EAAKK,YAAcD,EACnBE,QAAQC,IAAIH,IAEdI,MAAO,SAAAA,GACLF,QAAQC,IAAIC,GACZR,EAAKL,OAAOc,SAAS,CAAC,cAK5BhB,EAAAK,UAAAY,cAAA,WAAA,IAAAV,EAAAJ,KACEA,KAAKC,YAAa,EAElBc,WAAW,WACTX,EAAKY,gBAAgBC,KAAKC,WAAW,CACnCC,MAAOf,EAAKK,YAAYU,MACxBC,SAAUhB,EAAKK,YAAYW,SAC3BC,aAAcjB,EAAKK,YAAYa,KAAqC,EAA9BlB,EAAKK,YAAYa,IAAIC,OACzDnB,EAAKK,YAAYa,IAAIE,UAAU,EAAE,GAAK,GACxCF,IAAKlB,EAAKK,YAAYa,KAAqC,EAA9BlB,EAAKK,YAAYa,IAAIC,OAChDnB,EAAKK,YAAYa,IAAIE,UAAU,GAAKpB,EAAKK,YAAYa,SAK7DzB,EAAAK,UAAAuB,cAAA,WACEf,QAAQC,IAAIX,KAAKgB,gBAAgBU,OACjC1B,KAAKC,YAAa,GAnCU0B,WAAA,CAA7BhC,OAAAiC,UAAU,mDANA/B,EAAgB8B,WAAA,CAL5BhC,OAAAkC,UAAU,CACTC,SAAU,cACVC,YAAa,2BACbC,UAAW,CAAC,8BAEDnC,GAAb,GAAaoC,QAAApC,iBAAAA","file":"profile.component.min.js","sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { UserService } from 'src/app/core/user.service';\nimport { IUser } from 'src/app/interfaces';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.css']\n})\nexport class ProfileComponent implements OnInit {\n\n  inEditMode: boolean = false;\n\n  currentUser!: IUser;\n\n  @ViewChild('editProfileForm') editProfileForm!:NgForm\n\n  constructor(private userService: UserService, private router:Router) { }\n\n  ngOnInit(): void {\n\n    this.userService.getProfile$().subscribe({\n      next: user => {\n        this.currentUser = user;\n        console.log(user);\n      },\n      error: error => {\n        console.log(error);\n        this.router.navigate(['/home']);\n      }\n    })\n  }\n\n  enterEditMode() : void {\n    this.inEditMode = true;\n\n    setTimeout(() => {\n      this.editProfileForm.form.patchValue({\n        email: this.currentUser.email,\n        username: this.currentUser.username,\n        'select-tel': this.currentUser.tel && this.currentUser.tel.length > 4 \n        ? this.currentUser.tel.substring(0,4) : '',\n        tel: this.currentUser.tel && this.currentUser.tel.length > 4 \n        ? this.currentUser.tel.substring(4) : this.currentUser.tel\n      })\n    })\n  }\n\n  updateProfile() : void {\n    console.log(this.editProfileForm.value);\n    this.inEditMode = false;\n\n  }\n}\n"]}