"use strict";var _require=require("../models"),artworkModel=_require.artworkModel;function getArtworks(e,t,r){artworkModel.find().populate("userId").then(function(e){return t.json(e)}).catch(r)}function getTheme(e,t,r){var o=e.params.themeId;themeModel.findById(o).populate({path:"posts",populate:{path:"userId"}}).then(function(e){return t.json(e)}).catch(r)}function createArt(e,t,r){var o=e.body,a=o.name,n=o.imageUrl,s=o.price,u=e.user._id;artworkModel.create({name:a,userId:u,imageUrl:n,price:s}).then(function(e){t.status(200).json(e)}).catch(r)}function subscribe(e,t,r){var o=e.params.themeId,a=e.user._id;themeModel.findByIdAndUpdate({_id:o},{$addToSet:{subscribers:a}},{new:!0}).then(function(e){t.status(200).json(e)}).catch(r)}module.exports={createArt:createArt,getTheme:getTheme,subscribe:subscribe,getArtworks:getArtworks};
//# sourceMappingURL=artworkController.min.js.map
